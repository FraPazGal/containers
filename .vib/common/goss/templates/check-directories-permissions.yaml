########################
# Checks directories permissions, usually changed in the postunpack stage
# Needed vars:
#   - .Vars.filesystem.directories (Array)
#   - .Vars.filesystem.mode (String)
########################
file:
  {{- $mode := .Vars.filesystem.mode }}
  {{ range $directory := .Vars.filesystem.directories }}
  {{ $directory }}:
    exists: true
    filetype: directory
    mode: "{{ $mode }}"
  {{ end }}
