file:
  # Checks there is a template already loaded as a config file
  {{ .Vars.root_dir }}/{{ .Env.BITNAMI_APP_NAME }}/conf/my.cnf:
    exists: true
    filetype: file
    contains:
      - socket={{ .Vars.root_dir }}/{{ .Env.BITNAMI_APP_NAME }}/tmp/mysql.sock
  # Checks the postunpack phase properly creates the plugin's symlink
  {{ .Vars.root_dir }}/{{ .Env.BITNAMI_APP_NAME }}/lib/plugin:
    exists: true
    filetype: symlink
  # Check the plugins added at compilation time are available
  {{ .Vars.root_dir }}/{{ .Env.BITNAMI_APP_NAME }}/plugin/auth_pam.so:
    exists: true
    filetype: file
    mode: "0644"
